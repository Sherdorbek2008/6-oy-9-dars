{% extends 'base.html' %}

{% block main %}
<h2 class="text-center mb-4">Ma'lumot qo'shish</h2>

{% if messages %}
<div class="position-fixed top-0 start-50 translate-middle-x mt-3" style="z-index: 1050; width: 50%;">
    {% for message in messages %}
    <div class="alert alert-success alert-dismissible fade show text-center" role="alert">
        {{ message }}
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Yopish"></button>
    </div>
    {% endfor %}
</div>
{% endif %}

<form method="POST" enctype="multipart/form-data">
    {% csrf_token %}

    {% for field in forms %}
    {% if field.name == 'published' %}
    <div class="form-check">
        {{ field }}

    </div>
    {% else %}
    <div class="mb-3">
        {{ field }}
    </div>
    {% endif %}
    {% endfor %}

    <button type="submit" class="btn btn-primary mt-3">Saqlash</button>
</form>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const alerts = document.querySelectorAll('.alert');
        alerts.forEach(alert => {
            setTimeout(() => {
                alert.classList.remove('show');
                alert.classList.add('fade');
            }, 3000);
        });
    });
</script>

{% endblock main %}